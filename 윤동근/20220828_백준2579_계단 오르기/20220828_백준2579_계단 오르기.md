# 계단 오르기

| 시간 제한 | 메모리 제한 | 제출     | 정답    | 맞힌 사람 | 정답 비율   |
| ----- | ------ | ------ | ----- | ----- | ------- |
| 1 초   | 128 MB | 129431 | 44265 | 32049 | 34.011% |

## 문제

계단 오르기 게임은 계단 아래 시작점부터 계단 꼭대기에 위치한 도착점까지 가는 게임이다. <그림 1>과 같이 각각의 계단에는 일정한 점수가 쓰여 있는데 계단을 밟으면 그 계단에 쓰여 있는 점수를 얻게 된다.

![](https://upload.acmicpc.net/7177ea45-aa8d-4724-b256-7b84832c9b97/-/preview/)

<그림 1>

예를 들어 <그림 2>와 같이 시작점에서부터 첫 번째, 두 번째, 네 번째, 여섯 번째 계단을 밟아 도착점에 도달하면 총 점수는 10 + 20 + 25 + 20 = 75점이 된다.

![](https://upload.acmicpc.net/f00b6121-1c25-492e-9bc0-d96377c586b0/-/preview/)

<그림 2>

계단 오르는 데는 다음과 같은 규칙이 있다.

1. 계단은 한 번에 한 계단씩 또는 두 계단씩 오를 수 있다. 즉, 한 계단을 밟으면서 이어서 다음 계단이나, 다음 다음 계단으로 오를 수 있다.
2. 연속된 세 개의 계단을 모두 밟아서는 안 된다. 단, 시작점은 계단에 포함되지 않는다.
3. 마지막 도착 계단은 반드시 밟아야 한다.

따라서 첫 번째 계단을 밟고 이어 두 번째 계단이나, 세 번째 계단으로 오를 수 있다. 하지만, 첫 번째 계단을 밟고 이어 네 번째 계단으로 올라가거나, 첫 번째, 두 번째, 세 번째 계단을 연속해서 모두 밟을 수는 없다.

각 계단에 쓰여 있는 점수가 주어질 때 이 게임에서 얻을 수 있는 총 점수의 최댓값을 구하는 프로그램을 작성하시오.

## 입력

입력의 첫째 줄에 계단의 개수가 주어진다.

둘째 줄부터 한 줄에 하나씩 제일 아래에 놓인 계단부터 순서대로 각 계단에 쓰여 있는 점수가 주어진다. 계단의 개수는 300이하의 자연수이고, 계단에 쓰여 있는 점수는 10,000이하의 자연수이다.

## 출력

첫째 줄에 계단 오르기 게임에서 얻을 수 있는 총 점수의 최댓값을 출력한다.

![](20220828_백준2579_계단%20오르기assets/2022-08-28-21-41-56-image.png)

## 나의 코드

```python
N = int(input())                # 계단 수
st = []                         # 계단 담을 리스트
for i in range(N):
    st.append(int(input()))     # 계단마다 숫자 담기
DP = [[0, 0] for i in range(N)] # 계단 수만큼 담기
DP[0][0] = st[0]                # DP 0번째 인덱스는 st의 0번째 인덱스값 넣기.
DP[0][1] = st[0]
if N >= 2:                      # 이렇게 조건을 넣어줘야 index 에러가 안난다(ex 계단 1칸)
    DP[1][0] = DP[0][0] + st[1]
    DP[1][1] = st[1]
    for i in range(2, N):
        DP[i][0] = DP[i-1][1] + st[i]   # 뒤에 index가 0 이면 바로 앞에서 1칸 올라가는 경우를 저장하고
        DP[i][1] = max(DP[i-2]) + st[i] # 뒤에 index가 1 이면 2칸 뒤에서 올라오는 경우를 저장한다. 이때, 뒤에 2칸 올라오는 경우의 max값을 사용한다.
print(max(DP[-1]))                      # DP 마지막 도착지점에서 max값 받기.
```

![](20220828_백준2579_계단%20오르기assets/2022-08-28-21-42-13-image.png)

나의 코드는 처음에 런타임에러(index error)가 났다. 왜 났는지 몰랐지만 만약 계단 1칸이면 index error가 난다는 것을 알아차리는데 오래 걸렸다. 그래서 엄청 고생 했지만, index에러가 나는 중대한 실수들 중 1가지를 알게 된 것 같아서 다행이다. 이 문제를 풀때 점화식을 세우는데 엄청 오래걸렸다. 알고나면 쉽지만, 알기 전에는 너무 어려웠다. DP문제는 항상 일정한 규칙을 가지고 다음 DP에 저장할 수 있게 해야한다는 점에서 생각해서 문제를 풀어야 될 거 같다.

## 다른 사람 코드(빠른 코드)

```python
from sys import stdin

a,b,c = 0,0,0

n = int(stdin.readline())
for _ in range(n):
    pb = int(stdin.readline())
    d_0,d_1,d_2 = max(b,c),a+pb,b+pb
    a,b,c = d_0,d_1,d_2

print(max(d_2,d_1))
```

![](20220828_백준2579_계단%20오르기assets/2022-08-28-21-52-20-image.png)

위 코드는 아에 초기값을 0으로 사용해서 처음부터 이어질 수 있도록 코드를 만들었다. 나는 그냥 첫번째, 두번째 값을 설정해줬는데 이 방법이 훨씬 세련된 것 같다.  그리고 리스트를 사용하지 않아서 속도가 훨씬 빠른거 같다.

## 다른 사람 코드(짧은 코드)

```python
a=b=c=0;exec'p=input();a,b,c=c,a+p,max(a,b)+p;'*input();print c
```

![](20220828_백준2579_계단%20오르기assets/2022-08-28-21-52-01-image.png)

이 코드는 사실 위 코드와 같고, 의미가 없는 것 같다. 무엇보다 exec는 보안에 매우 취약해서 안쓰인다고 알고 있다.


